"use strict";(self.webpackChunkmobiililinja=self.webpackChunkmobiililinja||[]).push([[728],{59730:(e,t,a)=>{a.d(t,{h:()=>o});var l,s,n=a(65043);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r.apply(null,arguments)}function i(e,t){let{title:a,titleId:i,...o}=e;return n.createElement("svg",r({fill:"var(--main-orange-color)",height:15,viewBox:"0 0 15 15",width:15,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":i},o),a?n.createElement("title",{id:i},a):null,l||(l=n.createElement("clipPath",{id:"a"},n.createElement("path",{d:"m.5.5h14v14h-14z"}))),s||(s=n.createElement("g",{clipPath:"url(#a)",stroke:"var(--main-orange-color)",strokeLinecap:"round",strokeLinejoin:"round"},n.createElement("path",{d:"m5.65264 1.592c-1.62061-.16095-2.51073-.16104-4.06058 0-.16104 1.54985-.16095 2.43997 0 4.06058m4.01513-.04542-4.01147-4.01147z"}),n.createElement("path",{d:"m1.59201 9.40913c-.16096 1.62057-.16105 2.51077 0 4.06057 1.54984.1611 2.43996.161 4.06058 0m-.04544-4.01513-4.01966 4.01963z"}),n.createElement("path",{d:"m9.40912 13.4697c1.62058.161 2.51068.1611 4.06058 0 .161-1.5498.1609-2.4399 0-4.06057m.003 4.06357-3.97269-3.97271z"}),n.createElement("path",{d:"m13.4697 5.65262c.161-1.62062.1611-2.51074 0-4.06058-1.5498-.16105-2.44-.16096-4.06058 0m4.00488-.00611-3.91402 3.91406z"}))))}const o=n.forwardRef(i);a.p},56728:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var l=a(65043),s=a(61072),n=a(78602),r=a(67909),i=a(461),o=a(73781),c=(a(1880),a(74117)),d=a(70579);i.t1.register(i.ju,i.Bs,i.m_,i.s$);const h=e=>{let{theme:t,Theme:a,Piechartdata:s}=e;const{t:n}=(0,c.Bd)(),r=a===o.YF||t===o.YF?o.Iy:o.pY,h=a===o.YF||t===o.YF?o.No:o.X4,m=s.every((e=>0===e)),u={labels:o.ay.map((e=>n(e))),datasets:[{hoverOffset:6,data:s,backgroundColor:o.Fy,borderColor:r,borderWidth:1,hoverBackgroundColor:function(e){const t=e.dataIndex,a=e.dataset.backgroundColor[t],[l,s,n]=a.match(/\d+/g),r=`rgb(${Math.min(.8*l,255)}, ${Math.min(.8*s,255)}, ${Math.min(.8*n,255)})`,i=e.dataset.backgroundColor.map((e=>{const[t,a,l]=e.match(/\d+/g);return`rgb(${Math.min(1.2*t,255)}, ${Math.min(1.2*a,255)}, ${Math.min(1.2*l,255)})`}));return i.map(((e,a)=>a===t?r:e))}}]},p=(0,l.useRef)(null);return(0,l.useEffect)((()=>{const e=new i.t1(p.current,{type:"doughnut",data:u,options:{responsive:!0,cutout:"55%",plugins:{legend:{labels:{boxWidth:12,boxHeight:12,color:h,font:{size:"15px"}},position:"bottom"},title:{display:!0}}}});return()=>{e.destroy()}}),[u,h]),(0,d.jsx)("div",{className:"chart-container",children:m?(0,d.jsx)("p",{className:"Piechartpra callback",children:n("No data found")}):(0,d.jsx)("canvas",{ref:p,className:"chart-canvas"})})},m="label";function u(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function p(e,t){e.labels=t}function b(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;const l=[];e.datasets=t.map((t=>{const s=e.datasets.find((e=>e[a]===t[a]));return s&&t.data&&!l.includes(s)?(l.push(s),Object.assign(s,t),s):{...t}}))}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;const a={labels:[],datasets:[]};return p(a,e.labels),b(a,e.datasets,t),a}function g(e,t){const{height:a=150,width:s=300,redraw:n=!1,datasetIdKey:r,type:o,data:c,options:d,plugins:h=[],fallbackContent:m,updateMode:g,...x}=e,v=(0,l.useRef)(null),j=(0,l.useRef)(),y=()=>{v.current&&(j.current=new i.t1(v.current,{type:o,data:f(c,r),options:d&&{...d},plugins:h}),u(t,j.current))},w=()=>{u(t,null),j.current&&(j.current.destroy(),j.current=null)};return(0,l.useEffect)((()=>{!n&&j.current&&d&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(j.current,d)}),[n,d]),(0,l.useEffect)((()=>{!n&&j.current&&p(j.current.config.data,c.labels)}),[n,c.labels]),(0,l.useEffect)((()=>{!n&&j.current&&c.datasets&&b(j.current.config.data,c.datasets,r)}),[n,c.datasets]),(0,l.useEffect)((()=>{j.current&&(n?(w(),setTimeout(y)):j.current.update(g))}),[n,d,c.labels,c.datasets,g]),(0,l.useEffect)((()=>{j.current&&(w(),setTimeout(y))}),[o]),(0,l.useEffect)((()=>(y(),()=>w())),[]),l.createElement("canvas",Object.assign({ref:v,role:"img",height:a,width:s},x),m)}const x=(0,l.forwardRef)(g);function v(e,t){return i.t1.register(t),(0,l.forwardRef)(((t,a)=>l.createElement(x,Object.assign({},t,{ref:a,type:e}))))}const j=v("line",i.ZT),y=e=>{let{Theme:t,theme:a,Linechartlabels:l,answeredData:s,MissedData:n,localData:r}=e;const{t:i}=(0,c.Bd)(),h=t===o.YF||a===o.YF?o.pY:o.Iy,m=t===o.YF||a===o.YF?o.ib:o.y5,u={labels:l,datasets:[{label:i("Answered"),data:s,backgroundColor:o.Hh.databgcolor1,borderColor:o.Hh.bordercolor1,borderWidth:2,fill:!0},{label:i("Called"),data:r,backgroundColor:o.Hh.databgcolor2,borderColor:o.Hh.bordercolor2,borderWidth:2,fill:!0},{label:i("Missed"),data:n,backgroundColor:o.Hh.databgcolor3,borderColor:o.Hh.bordercolor3,borderWidth:2,fill:!0}]},p={plugins:{legend:{display:!1}},stacked:!1,interaction:{mode:"index",intersect:!1},scales:{y:{display:!0,min:0,max:100,ticks:{color:h,font:{family:"Courier New, monospace",size:10,weight:300}},grid:{color:m}},x:{display:!0,ticks:{color:h,font:{family:"Courier New, monospace",size:10,weight:300}},grid:{color:m}}},layout:{padding:{top:60,bottom:20,left:20,right:20}}};return(0,d.jsx)(j,{data:u,options:p,style:{height:"400px !important"},className:"linechatwidth"})};var w=a(25284),k=(a(78780),a(59730)),N=a(83003);const C=function(e){var t,a,i;let{activeTabs:m,handleSelects:u,screensize:p,theme:b,Theme:f}=e;const{t:g}=(0,c.Bd)(),[x,v]=(0,l.useState)(!1),j=(0,N.d4)((e=>{var t,a;return null===(t=e.getapiall.getapiall.dashboardData)||void 0===t||null===(a=t.DashboardDetail)||void 0===a?void 0:a.call_metrics_detail})),C=Array.from({length:(null===j||void 0===j?void 0:j.call_metrics.length)||0},((e,t)=>`${t+1}`)),[E,_]=(0,l.useState)("");(0,l.useEffect)((()=>{j&&m&&_("today"===m?o.fQ:"week"===m?o.u8:"month"===m?C:o.Z)}),[m,j]);const A=[null===j||void 0===j?void 0:j.total_answered,null===j||void 0===j?void 0:j.total_local,null===j||void 0===j?void 0:j.total_missed];console.log(m,"activetabs");const I=null===j||void 0===j||null===(t=j.call_metrics)||void 0===t?void 0:t.map((e=>parseInt(e.answered))),M=null===j||void 0===j||null===(a=j.call_metrics)||void 0===a?void 0:a.map((e=>parseInt(e.local_calls))),F=null===j||void 0===j||null===(i=j.call_metrics)||void 0===i?void 0:i.map((e=>parseInt(e.missed))),T=()=>(0,d.jsxs)("div",{className:"bg-white data-theme",style:{borderRadius:"3px",border:"1px solid var(--main-bordermodaldashboard-color)"},children:[(0,d.jsx)(s.A,{children:(0,d.jsx)(n.A,{offset:4,xs:12,className:"call_matrix_header_container",children:(0,d.jsx)("div",{className:"d-flex justify-content-between align-items-center",style:{width:"100%"},children:(0,d.jsxs)(r.A,{className:"nav nav-tabs3 ",activeKey:m,onSelect:u,children:[(0,d.jsx)(r.A.Item,{children:(0,d.jsx)(r.A.Link,{eventKey:"today",className:"nav-link2",children:g("Today")})}),(0,d.jsx)(r.A.Item,{children:(0,d.jsx)(r.A.Link,{eventKey:"week",className:"nav-link2",children:g("Week")})}),(0,d.jsx)(r.A.Item,{children:(0,d.jsx)(r.A.Link,{eventKey:"month",className:"nav-link2",children:g("Month")})}),(0,d.jsx)(r.A.Item,{children:(0,d.jsx)(r.A.Link,{eventKey:"year",className:"nav-link2",children:g("Year")})})]})})})}),(0,d.jsxs)(s.A,{style:{height:p?"760px":"370px",margin:"0px auto auto 10px",width:"100%"},children:[(0,d.jsxs)(n.A,{offset:5,lg:4,children:[(0,d.jsxs)("div",{className:"d-flex justify-content-start mt-3",children:[(0,d.jsxs)("div",{className:"mr-5",children:[(0,d.jsx)("label",{className:"mb-0 text-white",children:g("Inbound")}),(0,d.jsx)("h6",{className:"metricfont",children:null===j||void 0===j?void 0:j.total_answered})]}),(0,d.jsxs)("div",{className:"mr-5",children:[(0,d.jsx)("label",{className:"mb-0 text-white",children:g("Outbound")}),(0,d.jsx)("h6",{className:"metricfont",children:null===j||void 0===j?void 0:j.total_local})]}),(0,d.jsxs)("div",{className:"mr-5",children:[(0,d.jsx)("label",{className:"mb-0 text-white",children:g("Unanswered")}),(0,d.jsx)("h6",{className:"metricfont",children:null===j||void 0===j?void 0:j.total_missed})]})]}),(0,d.jsx)("div",{style:{height:"255px",width:"260px",margin:"auto"},children:(0,d.jsx)(h,{theme:b,Theme:f,Piechartdata:A})})]}),(0,d.jsx)(n.A,{lg:8,style:{marginTop:p?"180px":"0px",height:"100%"},children:(0,d.jsx)(y,{theme:b,Theme:f,Linechartlabels:E,answeredData:I,MissedData:F,localData:M})})]})]});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"call_metrics",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)("h2",{children:g("Call Metrics")}),(0,d.jsx)("h2",{onClick:()=>{v(!0)},children:(0,d.jsx)(k.h,{height:14,width:14,style:{cursor:"pointer"}})})]}),T(),x&&(0,d.jsx)(w.A,{show:x,onHide:()=>v(!1),dialogClassName:"modal-supports-open","aria-labelledby":"example-custom-modal-styling-title",style:{backdropFilter:"brightness(0.2)",height:"auto"},children:(0,d.jsxs)("div",{style:{padding:"12px"},children:[(0,d.jsxs)("div",{className:"call_metrics ",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)("h2",{children:g("Call Metrics")}),(0,d.jsx)("h2",{onClick:()=>v(!1),children:(0,d.jsx)(k.h,{height:14,width:14,style:{cursor:"pointer"}})})]}),(0,d.jsx)("div",{children:T()})]})})]})}}}]);
//# sourceMappingURL=728.300851e6.chunk.js.map