"use strict";(self.webpackChunkmobiililinja=self.webpackChunkmobiililinja||[]).push([[201],{84201:(e,t,l)=>{l.r(t),l.d(t,{default:()=>E});var a,s,n,i=l(89379),r=l(65043),d=l(55211),o=l(64196),c=l(5328),m=l(67909),h=l(14410),u=l(39477);const x=["title","titleId"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},b.apply(null,arguments)}function v(e,t){let{title:l,titleId:i}=e,d=function(e,t){if(null==e)return{};var l,a,s=function(e,t){if(null==e)return{};var l={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;l[a]=e[a]}return l}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)l=n[a],t.includes(l)||{}.propertyIsEnumerable.call(e,l)&&(s[l]=e[l])}return s}(e,x);return r.createElement("svg",b({viewBox:"-0.5 0 8 8",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#000000",ref:t,"aria-labelledby":i},d),l?r.createElement("title",{id:i},l):null,a||(a=r.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0})),s||(s=r.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=r.createElement("g",{id:"SVGRepo_iconCarrier"},r.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Dribbble-Light-Preview",transform:"translate(-427.000000, -3765.000000)",fill:"var(--main-btninfo-color)"},r.createElement("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},r.createElement("polygon",{id:"play-[#fff1001]",points:"371 3605 371 3613 378 3609"})))))))}const g=r.forwardRef(v);l.p;var j=l(1880),p=l(28600),w=l(83003),y=l(25457),f=l(93488),N=l(72557),_=l(98775),S=l(74117),C=l(70579);const A=e=>{let{show:t,onHide:l,recordingUrl:a,callerid:s,callername:n,createdat:i}=e;const{t:r}=(0,S.Bd)();return(0,C.jsxs)(N.A,{show:t,onHide:l,size:"lg",children:[(0,C.jsxs)(N.A.Header,{className:"rec-modal",style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,C.jsx)(N.A.Title,{className:"delete-modal",children:r("Call recording")}),(0,C.jsx)(_.h,{height:23,width:23,onClick:l})]}),(0,C.jsx)(N.A.Body,{className:"rec-modal",children:(0,C.jsx)("div",{className:"row clearfix",children:(0,C.jsx)("div",{className:"col-md-12",children:(0,C.jsx)("div",{className:"body demo-card",children:(0,C.jsxs)("div",{className:"row clearfix",children:[(0,C.jsxs)("div",{className:"col-lg-12 col-md-12",children:[(0,C.jsxs)("label",{className:"listner-modal-text2",children:[s," ",n]}),(0,C.jsx)("br",{}),(0,C.jsx)("label",{style:{color:"var(--main-adminheaderpage-color)"},children:i}),(0,C.jsxs)("div",{className:"form-group new-audio",children:[(0,C.jsx)("div",{className:"container-audio new-audio-listner2",children:(0,C.jsxs)("audio",{src:a,controls:!0,loop:!0,className:"audio-data",children:[(0,C.jsx)("source",{src:"",type:"audio/wav"}),r("Your browser does not support the audio tag.")]})}),(0,C.jsx)("textarea",{name:"",placeholder:r("Speech to text"),id:"",style:{width:"100%",padding:"6px 12px",height:"100px",borderColor:"var(--main-bordermodaldashboard-color)"},className:"search-bg textcall"})]})]}),(0,C.jsx)("div",{className:"col-lg-12 col-md-12",children:(0,C.jsx)("div",{className:"modal-footer",children:(0,C.jsx)("button",{className:"mb-2 btn_cancel",onClick:l,"aria-label":"Close",children:r("Cancel")})})})]})})})})})]})};var k=l(86054),D=l(73781),I=l(76181),L=l(22030);const E=function(e){let{activeKey:t,handleSort:l,tableHight:a,paginatedData:s,handleSelect:n,startdate:x,enddate:b,filter:v}=e,N=j.A.get("role");const{t:_}=(0,S.Bd)(),[E,P]=(0,r.useState)([]),R=j.A.get("Token"),O=(0,r.useRef)(null),T=(0,w.wA)(),K=x&&new Date(x).toLocaleDateString("en-CA"),V=b&&new Date(b).toLocaleDateString("en-CA"),[B,G]=(0,r.useState)(""),[H,W]=(0,r.useState)(!0),[M,z]=(0,r.useState)(10),[F,U]=(0,r.useState)(""),[Y,X]=(0,r.useState)(1),[Z,$]=(0,r.useState)(!1),[q,J]=(0,r.useState)(""),[Q,ee]=(0,r.useState)(""),[te,le]=(0,r.useState)(""),[ae,se]=(0,r.useState)(""),[ne,ie]=(0,r.useState)(0),[re,de]=(0,r.useState)(null),[oe,ce]=(0,r.useState)(""),[me,he]=(0,r.useState)(),ue=e=>{de((t=>t===e?null:e))};(0,r.useEffect)((()=>{t&&("logsextension"===t?ie(3):"logsgroup"===t?ie(2):"logs"===t&&ie(0),G(""),X(1),z(10))}),[t]);const xe=j.A.get("User_id"),[be,ve]=(0,r.useState)(!1),[ge,je]=(0,r.useState)([]),pe=j.A.get("Company_Id");(0,r.useEffect)((()=>{ve(!0),O.current&&O.current.abort();const e=new AbortController;O.current=e;const t=(0,i.A)({search:B,size:M,direction:oe,start_date:K,end_date:V,page:Y,cid:pe,select_type:ne},xe?{extension_id:xe}:{});T((0,y.wn)({inputData:t,Api:f.A.CDR.CDR_DOMAIN_LIST_LIST,Token:R,urlof:f.A.CDR.CDR_DOMAIN_LIST_LIST,signal:e.signal})).then((e=>{var t;if("Rejected"==(null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.message))ve(!0);else{var l,a;ve(!1);const t=null===e||void 0===e||null===(l=e.payload)||void 0===l||null===(a=l.response)||void 0===a?void 0:a.data;P(t),je(null===t||void 0===t?void 0:t.cdr_list),U(""),he(null===t||void 0===t?void 0:t.timezone)}}))}),[B,M,Y,v,N,ne,oe]);const we=e=>"number"===typeof e?e:/^\d+$/.test(e)?parseInt(e,10):0,ye=e=>{if(!ge)return;let t=H;F!==e&&(t=!0);const l=[...ge].sort(((l,a)=>{if("duration"===e){const t=we(l[e]),s=we(a[e]);return H?t-s:s-t}{const s=l[e],n=a[e],i=String(s),r=String(n);return t?i.localeCompare(r):r.localeCompare(i)}}));U(e),W(!t),je(l)},fe=e=>{const t=e.target.value;t.trim()?(G(t),X(1)):G("")};let Ne=(Y-1)*M+1;0===(null===E||void 0===E?void 0:E.total_record)&&(Ne=0);let _e=Y*M;_e>(null===E||void 0===E?void 0:E.total_record)&&(_e=null===E||void 0===E?void 0:E.total_record);const Se=e=>{e.preventDefault();const t=e.clipboardData.getData("text/plain");t.startsWith(" ")||G(t.trim())},Ce=e=>(0,C.jsxs)("div",{children:[(0,C.jsx)(h.h,{width:10,height:20,style:{filter:F===e&&H?"opacity(0.5)":""}}),(0,C.jsx)(u.h,{width:10,height:20,style:{filter:F!==e||H?"":"opacity(0.5)",marginLeft:"-4px"}})]}),Ae=(e,t)=>{(e=>{const{name:t,value:l}=e.target;ce(l)})({target:{name:e,value:t}}),de(null)},ke=()=>(0,C.jsxs)("div",{children:[(0,C.jsxs)(d.A.Group,{className:"form-groups ",children:[(0,C.jsx)(d.A.Group,{className:"ml-2 mb-0",children:(0,C.jsxs)("div",{className:"show",children:[(0,C.jsx)("h6",{children:_("Show")}),(0,C.jsx)("div",{className:"select_entry",children:(0,C.jsxs)(d.A.Select,{"aria-label":"Default select example",onChange:e=>(z(e.target.value),X(1)),value:M,children:[(0,C.jsx)("option",{value:"10",children:"10"}),(0,C.jsx)("option",{value:"25",children:"25"}),(0,C.jsx)("option",{value:"50",children:"50"}),(0,C.jsx)("option",{value:"100",children:"100"})]})}),(0,C.jsx)("h6",{children:_("entries")})]})}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center"},className:"formdasboard",children:[(0,C.jsxs)("h6",{style:{fontWeight:"400"},children:[_("Category"),":"]}),(0,C.jsx)("div",{className:"ml-2",children:(0,C.jsx)(I.A,{toggleDropdown:ue,showValue:oe,openDropdown:re,valueArray:D.b7,handleSelection:Ae,name:"Direction",defaultValue:_("All"),mapValue:"name",storeValue:"value",setOpenDropdown:de})}),(0,C.jsxs)("h6",{style:{fontWeight:"400"},className:"ml-2",children:[_("Search"),":"]}),"\xa0\xa0\xa0",(0,C.jsx)(d.A.Control,{type:"text",className:"new-daata search-bg",onChange:fe,value:B,onPaste:Se})]})]}),(0,C.jsx)("div",{className:"table-container",style:{overflowY:"auto"},children:(0,C.jsxs)(o.A,{className:"table-new border-space",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{className:"table-new d-flex ",children:[(0,C.jsx)("th",{className:"table-new table-custom-body-td m-0",onClick:()=>ye("start_stamp"),style:{width:"21%"},children:(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)("p",{className:"mb-0",children:_("Date")}),Ce("start_stamp")]})}),(0,C.jsx)("th",{className:"table-new table-custom-body-td m-0",onClick:()=>ye("caller_id_number"),style:{width:"13.25%"},children:(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)("p",{className:"mb-0",children:_("Caller ID")}),Ce("caller_id_number")]})}),(0,C.jsx)("th",{className:"table-new table-custom-body-td m-0",onClick:()=>ye("caller_id_name"),style:{width:"14.28%"},children:(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)("p",{className:"mb-0",children:_("Caller Name")}),Ce("caller_id_name")]})}),(0,C.jsx)("th",{className:"table-new table-custom-body-td m-0",onClick:()=>ye("destination_number"),style:{width:"14.28%"},children:(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)("p",{className:"mb-0",children:_("Endpoint")}),Ce("destination_number")]})}),(0,C.jsx)("th",{className:"table-new table-custom-body-td m-0",onClick:()=>ye("duration"),style:{width:"14.28%"},children:(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)("p",{className:"mb-0",children:_("Duration")}),Ce("duration")]})}),(0,C.jsx)("th",{className:"table-new table-custom-body-td m-0",onClick:()=>ye("direction"),style:{width:"14.28%"},children:(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)("p",{className:"mb-0",children:_("Call Type")}),Ce("direction")]})}),(0,C.jsx)("th",{className:"table-new table-custom-body-td m-0",onClick:()=>ye("status"),style:{width:"14.28%"},children:(0,C.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,C.jsx)("p",{className:"mb-0",children:_("Call Status")}),Ce("status")]})}),(0,C.jsx)("th",{className:"table-new table-custom-body-td m-0",style:{width:"10%",fontWeight:"700"},children:_("Record")})]})}),(0,C.jsx)("tbody",{style:{overflowY:"auto",maxHeight:"250px",display:"block",width:"100%"},className:"dashboardtablescroll",children:be?(0,C.jsxs)("div",{className:"dashtableloading",style:{height:"250px"},children:[" ",(0,C.jsx)(k.A,{})]}):(0,C.jsx)(C.Fragment,{children:ge&&ge.length>0?(0,C.jsx)(C.Fragment,{children:ge.map(((e,t)=>{console.log("dashboard",ge);const l=(a=null===e||void 0===e?void 0:e.duration,"".concat(String(Math.floor(a/3600)).padStart(2,"0"),":").concat(String(Math.floor(a/60)%60).padStart(2,"0"),":").concat(String(a%60).padStart(2,"0")));var a;const s=new Date(null===e||void 0===e?void 0:e.start_stamp);console.log("date",s);const n=L.A.dateDisplay(s);return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("tr",{className:"table-new new-data-table",style:{marginBottom:"3px !important"},children:[(0,C.jsxs)("td",{className:"table-new table-custom-body-td",style:{width:"21%",display:"flex",alignItems:"center"},children:[n," ",(i=null===e||void 0===e?void 0:e.start_stamp,new Date(i).toLocaleTimeString(r,{hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:me,hourCycle:"h24"}))]}),(0,C.jsx)("td",{className:"table-new table-custom-body-td",style:{width:"13%",display:"flex",alignItems:"center"},children:(0,C.jsx)("div",{className:"overflowdashboaard",children:"answered"==e.status&&"b"==e.leg?e.source_number:e.caller_id_number})}),(0,C.jsx)("td",{className:"table-new table-custom-body-td table-caller",style:{width:"14.28%",display:"flex",alignItems:"center"},children:(0,C.jsx)("div",{className:"overflowdashboaard",children:e.caller_id_name})}),(0,C.jsx)("td",{className:"table-new table-custom-body-td",style:{width:"14.28%",display:"flex",alignItems:"center"},children:(0,C.jsx)("div",{className:"overflowdashboaard",children:e.destination_number})}),(0,C.jsx)("td",{className:"table-new table-custom-body-td",style:{width:"14.28%",display:"flex",alignItems:"center"},children:(0,C.jsxs)("div",{className:"overflowdashboaard",children:[void 0==e.duration?"00:00:00":l," "]})}),(0,C.jsx)("td",{className:"table-new table-custom-body-td",style:{width:"14.28%",display:"flex",alignItems:"center"},children:(0,C.jsx)("div",{className:"overflowdashboaard",children:_(e.direction)})}),(0,C.jsx)("td",{className:"table-new table-custom-body-td",style:{width:"14.28%",display:"flex",alignItems:"center"},children:(0,C.jsx)("div",{className:"overflowdashboaard",children:_(e.status)})}),(0,C.jsx)("td",{className:"table_edit2dash table-new table-custom-body-td",style:{width:"9%"},children:(0,C.jsx)("button",{disabled:!e.recording_url,style:{backgroundColor:e.recording_url?"var(--main-orange-color)":"var(--main-forgot-color)",border:"none",opacity:e.recording_url?"":"0.5"},onClick:()=>{(e=>{const t=new Date(null===e||void 0===e?void 0:e.start_stamp).toLocaleString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});$(!0),J(null===e||void 0===e?void 0:e.recording_url),ee(null===e||void 0===e?void 0:e.caller_id_number),le(null===e||void 0===e?void 0:e.caller_id_name),se(t)})(e)},children:(0,C.jsx)(g,{width:14,height:14,className:"edithoverdash"})})})]},t)});var i,r}))}):(0,C.jsx)("div",{className:"dashtableloading",style:{height:"250px"},children:_("No data available in table")})})})]})}),(0,C.jsxs)("div",{className:"show show2 mt-2 mb-2 d-flex align-items-center justify-content-between",children:[(0,C.jsxs)("h6",{children:[_("Showing")," ",Ne," ",_("to")," ",_e," ",_("of")," ",null===E||void 0===E?void 0:E.total_record," ",_("entries")]}),(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{totalPages:null===E||void 0===E?void 0:E.total_page,currentPage:Y,setcurrenPage:X})})]})]});return(0,C.jsxs)("div",{className:"col-md-12 col-name p-0",children:[(0,C.jsxs)("div",{className:"card mb-4",children:[(0,C.jsx)("div",{className:"call_metrics",children:(0,C.jsx)("h2",{children:_("Call details")})}),(0,C.jsxs)(c.A.Container,{activeKey:t,onSelect:n,children:[(0,C.jsxs)(m.A,{variant:"tabs",className:"nav-tabs3",children:[(0,C.jsx)(m.A.Item,{children:(0,C.jsx)(m.A.Link,{eventKey:"logs",className:"nav-link2",children:_("Call logs all")})}),(0,C.jsx)(m.A.Item,{children:(0,C.jsx)(m.A.Link,{eventKey:"logsgroup",className:"nav-link2",children:_("Call logs ring group")})}),(0,C.jsx)(m.A.Item,{children:(0,C.jsx)(m.A.Link,{eventKey:"logsextension",className:"nav-link2",children:_("Call logs extension")})})]}),(0,C.jsxs)(c.A.Content,{className:"mt-2",children:[(0,C.jsx)(c.A.Pane,{eventKey:"logs",children:(0,C.jsx)("div",{children:ke()})}),(0,C.jsx)(c.A.Pane,{eventKey:"logsgroup",children:(0,C.jsx)("div",{children:ke()})}),(0,C.jsx)(c.A.Pane,{eventKey:"logsextension",children:(0,C.jsx)("div",{children:ke()})})]})]})]}),Z&&(0,C.jsx)(A,{show:Z,onHide:()=>{$(!1),J("")},recordingUrl:q,callerid:Q,callername:te,createdat:ae})]})}}}]);
//# sourceMappingURL=201.10090730.chunk.js.map