"use strict";(self.webpackChunkmobiililinja=self.webpackChunkmobiililinja||[]).push([[728],{59730:(e,t,a)=>{a.d(t,{h:()=>c});var l,n,r=a(65043);const s=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i.apply(null,arguments)}function o(e,t){let{title:a,titleId:o}=e,c=function(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(t.includes(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,s);return r.createElement("svg",i({fill:"var(--main-orange-color)",height:15,viewBox:"0 0 15 15",width:15,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":o},c),a?r.createElement("title",{id:o},a):null,l||(l=r.createElement("clipPath",{id:"a"},r.createElement("path",{d:"m.5.5h14v14h-14z"}))),n||(n=r.createElement("g",{clipPath:"url(#a)",stroke:"var(--main-orange-color)",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("path",{d:"m5.65264 1.592c-1.62061-.16095-2.51073-.16104-4.06058 0-.16104 1.54985-.16095 2.43997 0 4.06058m4.01513-.04542-4.01147-4.01147z"}),r.createElement("path",{d:"m1.59201 9.40913c-.16096 1.62057-.16105 2.51077 0 4.06057 1.54984.1611 2.43996.161 4.06058 0m-.04544-4.01513-4.01966 4.01963z"}),r.createElement("path",{d:"m9.40912 13.4697c1.62058.161 2.51068.1611 4.06058 0 .161-1.5498.1609-2.4399 0-4.06057m.003 4.06357-3.97269-3.97271z"}),r.createElement("path",{d:"m13.4697 5.65262c.161-1.62062.1611-2.51074 0-4.06058-1.5498-.16105-2.44-.16096-4.06058 0m4.00488-.00611-3.91402 3.91406z"}))))}const c=r.forwardRef(o);a.p},56728:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var l=a(65043),n=a(61072),r=a(78602),s=a(67909),i=a(461),o=a(73781),c=(a(1880),a(74117)),d=a(70579);i.t1.register(i.ju,i.Bs,i.m_,i.s$);const h=e=>{let{theme:t,Theme:a,Piechartdata:n}=e;const{t:r}=(0,c.Bd)(),s=a===o.YF||t===o.YF?o.Iy:o.pY,h=a===o.YF||t===o.YF?o.No:o.X4,u=n.every((e=>0===e)),m={labels:o.ay.map((e=>r(e))),datasets:[{hoverOffset:6,data:n,backgroundColor:o.Fy,borderColor:s,borderWidth:1,hoverBackgroundColor:function(e){const t=e.dataIndex,a=e.dataset.backgroundColor[t],[l,n,r]=a.match(/\d+/g),s="rgb(".concat(Math.min(.8*l,255),", ").concat(Math.min(.8*n,255),", ").concat(Math.min(.8*r,255),")"),i=e.dataset.backgroundColor.map((e=>{const[t,a,l]=e.match(/\d+/g);return"rgb(".concat(Math.min(1.2*t,255),", ").concat(Math.min(1.2*a,255),", ").concat(Math.min(1.2*l,255),")")}));return i.map(((e,a)=>a===t?s:e))}}]},p=(0,l.useRef)(null);return(0,l.useEffect)((()=>{const e=new i.t1(p.current,{type:"doughnut",data:m,options:{responsive:!0,cutout:"55%",plugins:{legend:{labels:{boxWidth:12,boxHeight:12,color:h,font:{size:"15px"}},position:"bottom"},title:{display:!0}}}});return()=>{e.destroy()}}),[m,h]),(0,d.jsx)("div",{className:"chart-container",children:u?(0,d.jsx)("p",{className:"Piechartpra callback",children:r("No data found")}):(0,d.jsx)("canvas",{ref:p,className:"chart-canvas"})})};var u=a(80045),m=a(89379);const p=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],f="label";function b(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function g(e,t){e.labels=t}function v(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;const l=[];e.datasets=t.map((t=>{const n=e.datasets.find((e=>e[a]===t[a]));return n&&t.data&&!l.includes(n)?(l.push(n),Object.assign(n,t),n):(0,m.A)({},t)}))}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;const a={labels:[],datasets:[]};return g(a,e.labels),v(a,e.datasets,t),a}function y(e,t){const{height:a=150,width:n=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:d,plugins:h=[],fallbackContent:f,updateMode:y}=e,j=(0,u.A)(e,p),w=(0,l.useRef)(null),k=(0,l.useRef)(null),N=()=>{w.current&&(k.current=new i.t1(w.current,{type:o,data:x(c,s),options:d&&(0,m.A)({},d),plugins:h}),b(t,k.current))},C=()=>{b(t,null),k.current&&(k.current.destroy(),k.current=null)};return(0,l.useEffect)((()=>{!r&&k.current&&d&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(k.current,d)}),[r,d]),(0,l.useEffect)((()=>{!r&&k.current&&g(k.current.config.data,c.labels)}),[r,c.labels]),(0,l.useEffect)((()=>{!r&&k.current&&c.datasets&&v(k.current.config.data,c.datasets,s)}),[r,c.datasets]),(0,l.useEffect)((()=>{k.current&&(r?(C(),setTimeout(N)):k.current.update(y))}),[r,d,c.labels,c.datasets,y]),(0,l.useEffect)((()=>{k.current&&(C(),setTimeout(N))}),[o]),(0,l.useEffect)((()=>(N(),()=>C())),[]),l.createElement("canvas",(0,m.A)({ref:w,role:"img",height:a,width:n},j),f)}const j=(0,l.forwardRef)(y);function w(e,t){return i.t1.register(t),(0,l.forwardRef)(((t,a)=>l.createElement(j,(0,m.A)((0,m.A)({},t),{},{ref:a,type:e}))))}const k=w("line",i.ZT),N=e=>{let{Theme:t,theme:a,Linechartlabels:l,answeredData:n,MissedData:r,localData:s}=e;const{t:i}=(0,c.Bd)(),h=t===o.YF||a===o.YF?o.pY:o.Iy,u=t===o.YF||a===o.YF?o.ib:o.y5;let m=0,p=100,f=[...n,...s,...r];m=Math.min(...f),p=Math.max(...f),p=10*(Math.round(p/10)+1);const b={labels:l,datasets:[{label:i("Answered"),data:n,backgroundColor:o.Hh.databgcolor1,borderColor:o.Hh.bordercolor1,borderWidth:2,fill:!0},{label:i("Called"),data:s,backgroundColor:o.Hh.databgcolor2,borderColor:o.Hh.bordercolor2,borderWidth:2,fill:!0},{label:i("Missed"),data:r,backgroundColor:o.Hh.databgcolor3,borderColor:o.Hh.bordercolor3,borderWidth:2,fill:!0}]},g={plugins:{legend:{display:!1}},stacked:!1,interaction:{mode:"index",intersect:!1},scales:{y:{display:!0,min:m,max:p,ticks:{color:h,font:{family:"Courier New, monospace",size:10,weight:300}},grid:{color:u}},x:{display:!0,ticks:{color:h,font:{family:"Courier New, monospace",size:10,weight:300}},grid:{color:u}}},layout:{padding:{top:60,bottom:20,left:20,right:20}}};return(0,d.jsx)(k,{data:b,options:g,style:{height:"400px !important"},className:"linechatwidth"})};var C=a(72557),A=(a(78780),a(59730)),E=a(83003);const _=function(e){var t,a,i;let{activeTabs:u,handleSelects:m,screensize:p,theme:f,Theme:b}=e;const{t:g}=(0,c.Bd)(),[v,x]=(0,l.useState)(!1),y=(0,E.d4)((e=>{var t,a;return null===(t=e.getapiall.getapiall.dashboardData)||void 0===t||null===(a=t.DashboardDetail)||void 0===a?void 0:a.call_metrics_detail})),j=Array.from({length:(null===y||void 0===y?void 0:y.call_metrics.length)||0},((e,t)=>"".concat(t+1))),[w,k]=(0,l.useState)([]);(0,l.useEffect)((()=>{y&&u&&k("today"===u?o.fQ:"week"===u?o.u8:"month"===u?j:o.Z)}),[u,y]);const _=[null===y||void 0===y?void 0:y.total_answered,null===y||void 0===y?void 0:y.total_local,null===y||void 0===y?void 0:y.total_missed];console.log(u,"activetabs");const I=null===y||void 0===y||null===(t=y.call_metrics)||void 0===t?void 0:t.map((e=>parseInt(e.answered))),M=null===y||void 0===y||null===(a=y.call_metrics)||void 0===a?void 0:a.map((e=>parseInt(e.local_calls))),O=null===y||void 0===y||null===(i=y.call_metrics)||void 0===i?void 0:i.map((e=>parseInt(e.missed))),F=()=>(0,d.jsxs)("div",{className:"bg-white data-theme",style:{borderRadius:"3px",border:"1px solid var(--main-bordermodaldashboard-color)"},children:[(0,d.jsx)(n.A,{children:(0,d.jsx)(r.A,{offset:4,xs:12,className:"call_matrix_header_container",children:(0,d.jsx)("div",{className:"d-flex justify-content-between align-items-center",style:{width:"100%"},children:(0,d.jsxs)(s.A,{className:"nav nav-tabs3 ",activeKey:u,onSelect:m,children:[(0,d.jsx)(s.A.Item,{children:(0,d.jsx)(s.A.Link,{eventKey:"today",className:"nav-link2",children:g("Today")})}),(0,d.jsx)(s.A.Item,{children:(0,d.jsx)(s.A.Link,{eventKey:"week",className:"nav-link2",children:g("Week")})}),(0,d.jsx)(s.A.Item,{children:(0,d.jsx)(s.A.Link,{eventKey:"month",className:"nav-link2",children:g("Month")})}),(0,d.jsx)(s.A.Item,{children:(0,d.jsx)(s.A.Link,{eventKey:"year",className:"nav-link2",children:g("Year")})})]})})})}),(0,d.jsxs)(n.A,{style:{height:p?"760px":"370px",margin:"0px auto auto 10px",width:"100%"},children:[(0,d.jsxs)(r.A,{offset:5,lg:4,children:[(0,d.jsxs)("div",{className:"d-flex justify-content-start mt-3",children:[(0,d.jsxs)("div",{className:"mr-5",children:[(0,d.jsx)("label",{className:"mb-0 text",children:g("Inbound")}),(0,d.jsx)("h6",{className:"metricfont",children:(null===y||void 0===y?void 0:y.total_answered)||0})]}),(0,d.jsxs)("div",{className:"mr-5",children:[(0,d.jsx)("label",{className:"mb-0 text",children:g("Outbound")}),(0,d.jsx)("h6",{className:"metricfont",children:(null===y||void 0===y?void 0:y.total_local)||0})]}),(0,d.jsxs)("div",{className:"mr-5",children:[(0,d.jsx)("label",{className:"mb-0 text",children:g("Unanswered")}),(0,d.jsx)("h6",{className:"metricfont",children:(null===y||void 0===y?void 0:y.total_missed)||0})]})]}),(0,d.jsx)("div",{style:{height:"255px",width:"260px",margin:"auto"},children:(0,d.jsx)(h,{theme:f,Theme:b,Piechartdata:_})})]}),(0,d.jsx)(r.A,{lg:8,style:{marginTop:p?"180px":"0px",height:"100%"},children:(0,d.jsx)(N,{theme:f,Theme:b,Linechartlabels:w.map((e=>g(e))),answeredData:I||[],MissedData:O||[],localData:M||[]})})]})]});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"call_metrics",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)("h2",{children:g("Call Metrics")}),(0,d.jsx)("h2",{onClick:()=>{x(!0)},children:(0,d.jsx)(A.h,{height:14,width:14,style:{cursor:"pointer"}})})]}),F(),v&&(0,d.jsx)(C.A,{show:v,onHide:()=>x(!1),dialogClassName:"modal-supports-open","aria-labelledby":"example-custom-modal-styling-title",style:{backdropFilter:"brightness(0.2)",height:"auto"},children:(0,d.jsxs)("div",{style:{padding:"12px"},children:[(0,d.jsxs)("div",{className:"call_metrics ",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)("h2",{children:g("Call Metrics")}),(0,d.jsx)("h2",{onClick:()=>x(!1),children:(0,d.jsx)(A.h,{height:14,width:14,style:{cursor:"pointer"}})})]}),(0,d.jsx)("div",{children:F()})]})})]})}}}]);
//# sourceMappingURL=728.fa436021.chunk.js.map